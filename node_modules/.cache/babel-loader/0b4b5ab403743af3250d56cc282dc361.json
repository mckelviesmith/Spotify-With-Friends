{"ast":null,"code":"var _jsxFileName = \"/Users/mckelvie/Desktop/spotify-w-friends/cs4550-project-main 2/src/components/Profile/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useProfile } from '../../contexts/profileContext';\nimport Loading from '../Loading';\nimport Header from './header';\nimport ProfileMain from './profileMain';\nimport * as userService from '../../services/user-service';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const {\n    username\n  } = useParams();\n  const {\n    checkLoggedIn\n  } = useProfile();\n  const [isThisUser, setIsThisUser] = useState(false);\n  const [profileUser, setProfileUser] = useState(); // Get profile user and currently logged in user\n\n  useEffect(() => {\n    const check = async () => {\n      try {\n        const user = await checkLoggedIn();\n        setIsThisUser(user && user.username === username);\n      } catch (e) {\n        console.log(`Caught error in Profile index.js: ${e}`);\n      }\n    };\n\n    const getProfileUser = async () => {\n      const user = await userService.findUserByUsername(username);\n      setProfileUser(user);\n    };\n\n    const getUsers = async () => {\n      await Promise.all([check(), getProfileUser()]);\n    };\n\n    getUsers();\n  }, [checkLoggedIn]);\n\n  if (profileUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isThisUser: isThisUser,\n        profileUser: profileUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"border-2 border-top border-secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProfileMain, {\n        isThisUser: isThisUser,\n        profileUser: profileUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 16\n    }, this);\n  }\n};\n\n_s(Profile, \"K0h5UFWeeQCNRj3Pr9xDGnPCu6o=\", false, function () {\n  return [useParams, useProfile];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/mckelvie/Desktop/spotify-w-friends/cs4550-project-main 2/src/components/Profile/index.js"],"names":["React","useEffect","useState","useParams","useProfile","Loading","Header","ProfileMain","userService","Profile","username","checkLoggedIn","isThisUser","setIsThisUser","profileUser","setProfileUser","check","user","e","console","log","getProfileUser","findUserByUsername","getUsers","Promise","all"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,KAAKC,WAAZ,MAA6B,6BAA7B;AACA,OAAO,aAAP;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAClB,QAAM;AAAEC,IAAAA;AAAF,MAAeP,SAAS,EAA9B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAoBP,UAAU,EAApC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,EAA9C,CAJkB,CAMlB;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMe,KAAK,GAAG,YAAY;AACtB,UAAI;AACA,cAAMC,IAAI,GAAG,MAAMN,aAAa,EAAhC;AACAE,QAAAA,aAAa,CAACI,IAAI,IAAIA,IAAI,CAACP,QAAL,KAAkBA,QAA3B,CAAb;AACH,OAHD,CAGE,OAAOQ,CAAP,EAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAa,qCAAoCF,CAAE,EAAnD;AACH;AACJ,KAPD;;AAQA,UAAMG,cAAc,GAAG,YAAY;AAC/B,YAAMJ,IAAI,GAAG,MAAMT,WAAW,CAACc,kBAAZ,CAA+BZ,QAA/B,CAAnB;AACAK,MAAAA,cAAc,CAACE,IAAD,CAAd;AACH,KAHD;;AAIA,UAAMM,QAAQ,GAAG,YAAY;AACzB,YAAMC,OAAO,CAACC,GAAR,CAAY,CACdT,KAAK,EADS,EAEdK,cAAc,EAFA,CAAZ,CAAN;AAIH,KALD;;AAMAE,IAAAA,QAAQ;AACX,GApBQ,EAoBN,CAACZ,aAAD,CApBM,CAAT;;AAsBA,MAAIG,WAAJ,EAAiB;AACb,wBACI;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,UAAU,EAAEF,UAApB;AAAgC,QAAA,WAAW,EAAEE;AAA7C;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,WAAD;AAAa,QAAA,UAAU,EAAEF,UAAzB;AAAqC,QAAA,WAAW,EAAEE;AAAlD;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH,GARD,MAQO;AACH,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;AACJ,CAxCD;;GAAML,O;UACmBN,S,EACKC,U;;;KAFxBK,O;AA0CN,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useProfile } from '../../contexts/profileContext';\nimport Loading from '../Loading';\nimport Header from './header';\nimport ProfileMain from './profileMain';\nimport * as userService from '../../services/user-service';\nimport './style.css';\n\nconst Profile = () => {\n    const { username } = useParams();\n    const { checkLoggedIn } = useProfile();\n    const [isThisUser, setIsThisUser] = useState(false);\n    const [profileUser, setProfileUser] = useState();\n\n    // Get profile user and currently logged in user\n    useEffect(() => {\n        const check = async () => {\n            try {\n                const user = await checkLoggedIn();\n                setIsThisUser(user && user.username === username);\n            } catch (e) {\n                console.log(`Caught error in Profile index.js: ${e}`);\n            }\n        };\n        const getProfileUser = async () => {\n            const user = await userService.findUserByUsername(username);\n            setProfileUser(user);\n        };\n        const getUsers = async () => {\n            await Promise.all([\n                check(),\n                getProfileUser()\n            ]);\n        };\n        getUsers();\n    }, [checkLoggedIn]);\n\n    if (profileUser) {\n        return (\n            <div>\n                <Header isThisUser={isThisUser} profileUser={profileUser} />\n                <hr className='border-2 border-top border-secondary' />\n                <ProfileMain isThisUser={isThisUser} profileUser={profileUser} />\n            </div>\n        );\n    } else {\n        return <Loading />;\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}