{"ast":null,"code":"var _jsxFileName = \"/Users/mckelvie/Desktop/spotify-w-friends/cs4550-project-main 2/src/components/NavBar/search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { searchForSongs } from '../../services/song-service';\nimport SongListItem from '../SongList/SongListItem';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Search(_ref) {\n  _s();\n\n  let {\n    className = ''\n  } = _ref;\n  const [songs, setSongs] = useState([]);\n  const queryRef = useRef();\n\n  const fetchSongs = async e => {\n    e.preventDefault();\n    const query = queryRef.current.value;\n\n    if (query) {\n      const data = await searchForSongs(query);\n      setSongs(data);\n    } else {\n      setSongs([]);\n    }\n  };\n\n  const clearQuery = () => {\n    queryRef.current.value = \"\";\n    setSongs([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"search\",\n    className: `dropdown ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center bg-white rounded-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: queryRef,\n        id: \"navbarDropdown\",\n        className: \"form-control pe-2 border-0 shadow-none\",\n        type: \"search\",\n        placeholder: \"Search songs\",\n        \"aria-label\": \"Search\",\n        onInput: fetchSongs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-search fa-lg mx-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), songs.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"search-results-menu\",\n      className: \"show dropdown-menu rounded-0 shadow-sm border-0\",\n      children: songs.map(song => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"dropdown-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/songs/details/${song.id}`,\n          className: \"text-decoration-none\",\n          onClick: clearQuery,\n          children: /*#__PURE__*/_jsxDEV(SongListItem, {\n            song: song\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }, this)\n        }, song.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 33\n        }, this)\n      }, song.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Search, \"zWCumnuQual5CzQO5EVLTP0a7h0=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/mckelvie/Desktop/spotify-w-friends/cs4550-project-main 2/src/components/NavBar/search.js"],"names":["React","useRef","useState","Link","searchForSongs","SongListItem","Search","className","songs","setSongs","queryRef","fetchSongs","e","preventDefault","query","current","value","data","clearQuery","length","map","song","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,QAA+B,6BAA/B;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAO,aAAP;;AAEA,eAAe,SAASC,MAAT,OAAgC;AAAA;;AAAA,MAAhB;AAACC,IAAAA,SAAS,GAAC;AAAX,GAAgB;AAC3C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMQ,QAAQ,GAAGT,MAAM,EAAvB;;AAEA,QAAMU,UAAU,GAAG,MAAMC,CAAN,IAAW;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,KAAK,GAAGJ,QAAQ,CAACK,OAAT,CAAiBC,KAA/B;;AAEA,QAAIF,KAAJ,EAAW;AACP,YAAMG,IAAI,GAAG,MAAMb,cAAc,CAACU,KAAD,CAAjC;AACAL,MAAAA,QAAQ,CAACQ,IAAD,CAAR;AACH,KAHD,MAGO;AACHR,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ,GAVD;;AAYA,QAAMS,UAAU,GAAG,MAAM;AACrBR,IAAAA,QAAQ,CAACK,OAAT,CAAiBC,KAAjB,GAAyB,EAAzB;AACAP,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,GAHD;;AAKA,sBACI;AAAK,IAAA,EAAE,EAAC,QAAR;AAAiB,IAAA,SAAS,EAAG,YAAWF,SAAU,EAAlD;AAAA,4BAEI;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA,8BACI;AAAO,QAAA,GAAG,EAAEG,QAAZ;AACQ,QAAA,EAAE,EAAC,gBADX;AAEQ,QAAA,SAAS,EAAC,wCAFlB;AAGQ,QAAA,IAAI,EAAC,QAHb;AAIQ,QAAA,WAAW,EAAC,cAJpB;AAKQ,sBAAW,QALnB;AAMQ,QAAA,OAAO,EAAEC;AANjB;AAAA;AAAA;AAAA;AAAA,cADJ,eAQI;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,EAeQH,KAAK,CAACW,MAAN,GAAe,CAAf,iBACA;AAAI,MAAA,EAAE,EAAC,qBAAP;AACI,MAAA,SAAS,EAAC,iDADd;AAAA,gBAGQX,KAAK,CAACY,GAAN,CAAUC,IAAI,iBACV;AAAkB,QAAA,SAAS,EAAC,eAA5B;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,kBAAiBA,IAAI,CAACC,EAAG,EAApC;AACI,UAAA,SAAS,EAAC,sBADd;AAGI,UAAA,OAAO,EAAEJ,UAHb;AAAA,iCAII,QAAC,YAAD;AAAc,YAAA,IAAI,EAAEG;AAApB;AAAA;AAAA;AAAA;AAAA;AAJJ,WAESA,IAAI,CAACC,EAFd;AAAA;AAAA;AAAA;AAAA;AADJ,SAASD,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA,cADJ;AAHR;AAAA;AAAA;AAAA;AAAA,YAhBR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAmCH;;GAxDuBhB,M;;KAAAA,M","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { searchForSongs } from '../../services/song-service';\nimport SongListItem from '../SongList/SongListItem';\nimport './style.css';\n\nexport default function Search({className=''}) {\n    const [songs, setSongs] = useState([]);\n    const queryRef = useRef();\n    \n    const fetchSongs = async e => {\n        e.preventDefault();\n        const query = queryRef.current.value;\n\n        if (query) {\n            const data = await searchForSongs(query);\n            setSongs(data);\n        } else {\n            setSongs([]);\n        }\n    };\n\n    const clearQuery = () => {\n        queryRef.current.value = \"\";\n        setSongs([]);\n    };\n\n    return (\n        <div id='search' className={`dropdown ${className}`}>\n            {/* Search form */}\n            <div className='d-flex align-items-center bg-white rounded-2'>\n                <input ref={queryRef}\n                        id='navbarDropdown'\n                        className='form-control pe-2 border-0 shadow-none' \n                        type='search'\n                        placeholder='Search songs'\n                        aria-label='Search'\n                        onInput={fetchSongs}/>\n                <i className=\"fa fa-search fa-lg mx-2\"></i>\n            </div>\n\n            {/* Search results dropdown */}\n            {\n                songs.length > 0 &&\n                <ul id='search-results-menu'\n                    className='show dropdown-menu rounded-0 shadow-sm border-0'>\n                    {\n                        songs.map(song =>\n                            <li key={song.id} className='dropdown-item'>\n                                <Link to={`/songs/details/${song.id}`}\n                                    className='text-decoration-none'\n                                    key={song.id}\n                                    onClick={clearQuery}>\n                                    <SongListItem song={song} />\n                                </Link>\n                            </li>\n                        )\n                    }\n                </ul>\n            }\n        </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}